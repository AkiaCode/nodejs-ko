---
layout: post
title: Node v5.0.0 (안정 버전)
author: mikeal
ref: Node v5.0.0 (Stable)
refurl: https://nodejs.org/en/blog/release/v5.0.0/
translator:
- <a href="https://github.com/taggon" target="_blank">taggon</a>
---
<!--
Say hello to Node.js v5! It's true that we only recently [released Node.js v4.0.0](https://nodejs.org/en/blog/release/v4.0.0/), however this new release doesn't mean that v4 is going away. In fact, v4 is going to live for a lot longer than v5.
-->
Node.js v5를 환영해주세요! 불과 얼마 전에 [Node.js v4.0.0](https://nodejs.org/en/blog/release/v4.0.0/)을 릴리스했지만, v5를 릴리스했다고 해서 v4를 없애겠다는 의미는 아닙니다. 사실 v4는 v5보다 훨씬 오래 살아남을 것입니다.

<!--
According to our new [LTS (Long-term Support) plan](https://github.com/nodejs/LTS/), Node.js v4 Argon will continue to be supported for 30 months, ending in April 2018. This new version of Node.js, however, will only be supported for 8 months, with a new major version, v6, being released in April 2016. Node.js v6 will eventually turn into a new LTS version that will have a similar support timeline to v4. In this way, we will have a new _Stable_ version of Node.js every 6 months with every second one of these turning into an LTS line. If our LTS plan is new to you, [read more](https://medium.com/@nodesource/essential-steps-long-term-support-for-node-js-8ecf7514dbd#.z6bzdfogi) about how it's going to work so you can make a properly informed decision regarding what version of Node.js to adopt.
-->
우리의 새로운 장기 지원 계획(Long-term Support, LTS)에 따르면, Node.js v4 Argon은 2018년 4월까지 30개월간 지속될 것입니다. 하지만 Node.js v5는 8개월 동안만 지원되고 2016년 4월에는 v6가 릴리스 될 것입니다. Node.js v6는 이후 v4와 같은 장기 지원 버전으로 전환되어 비슷한 기간 동안 지원될 것입니다. 이런 방식을 통해 우리는 6개월마다 새로운 Node.js **안정** 버전을 출시하고 짝수 버전들은 장기 지원 라인으로 전환됩니다. 우리의 장기 지원 계획을 처음 들어본다면 [장기 지원 계획의 운영 방식에 관한 글](https://medium.com/@nodesource/essential-steps-long-term-support-for-node-js-8ecf7514dbd#.z6bzdfog)을 읽어보세요. 사용할 Node.js 버전을 정할 때 필요한 정보를 얻을 수 있습니다.

<!--
The general rule for deciding which version of Node.js to use is:

* Stay on or upgrade to Node.js v4.2.x if you need **stability and have a complex production environment**, e.g. you are a medium or large enterprise.
* Upgrade to Node.js v5.x if you have the ability to upgrade versions quickly and easily without distributing your environment and want to play with the latest features as they arrive.
-->
사용할 Node.js 버전을 정할 때 적용할만한 일반적인 규칙은 다음과 같습니다.

* 중대형 기업과 같이 안정성이 **필요하거나 프로덕션 환경이 복잡하다면** 그대로 유지하거나 Node.js v4.2.x로 업그레이드하세요.
* 환경에 구애받지 않고 쉽고 빠르게 버전을 업그레이드 할 수 있다면 Node.js v5.x로 업그레이드하세요.

<!--
The release notes below are annotated with the main breaking changes that warrant the jump to v5. Note that because this new version of Node.js is shipping with a new version of V8, you will need to recompile any native add-ons you have already installed or you will receive a runtime error when trying to load them. Use `npm rebuild` or simply remove your *node_modules* directory and `npm install` from scratch.
-->
다음 릴리스 노트는 v5이 되면서 추가된 호환성 문제가 있을 수 있는 주요 변경 사항을 기술합니다. 이번 버전의 Node.js는 V8 엔진 새 버전을 탑재하고 있으므로 기존에 설치된 네이티브 애드온을 다시 컴파일해야 합니다. 그렇지 않으면 네이티브 애드온을 읽어들일 때 런타임 에러가 발생할 것입니다. 간단하게 **node_modules** 디렉토리를 제거하고 아무 것도 없는 상태로 `npm install`을 실행해도 됩니다.

<!--
### Notable Changes

* **buffer**: _(Breaking)_ Removed both `'raw'` and `'raws'` encoding types from `Buffer`, these have been deprecated for a long time (Sakthipriyan Vairamani) [#2859](https://github.com/nodejs/node/pull/2859).
* **console**: _(Breaking)_ Values reported by `console.time()` now have 3 decimals of accuracy added (Michaël Zasso) [#3166](https://github.com/nodejs/node/pull/3166).
* **fs**:
  - `fs.readFile*()`, `fs.writeFile*()`, and `fs.appendFile*()` now also accept a file descriptor as their first argument (Johannes Wüller) [#3163](https://github.com/nodejs/node/pull/3163).
  - _(Breaking)_ In `fs.readFile()`, if an encoding is specified and the internal `toString()` fails the error is no longer _thrown_ but is passed to the callback (Evan Lucas) [#3485](https://github.com/nodejs/node/pull/3485).
  - _(Breaking)_ In `fs.read()` (using the `fs.read(fd, length, position, encoding, callback)` form), if the internal `toString()` fails the error is no longer _thrown_ but is passed to the callback (Evan Lucas) [#3503](https://github.com/nodejs/node/pull/3503).
* **http**:
  - Fixed a bug where pipelined http requests would stall (Fedor Indutny) [#3342](https://github.com/nodejs/node/pull/3342).
  - _(Breaking)_ When parsing HTTP, don't add duplicates of the following headers: `Retry-After`, `ETag`, `Last-Modified`, `Server`, `Age`, `Expires`. This is in addition to the following headers which already block duplicates: `Content-Type`, `Content-Length`, `User-Agent`, `Referer`, `Host`, `Authorization`, `Proxy-Authorization`, `If-Modified-Since`, `If-Unmodified-Since`, `From`, `Location`, `Max-Forwards` (James M Snell) [#3090](https://github.com/nodejs/node/pull/3090).
  - _(Breaking)_ The `callback` argument to `OutgoingMessage#setTimeout()` must be a function or a `TypeError` is thrown (James M Snell) [#3090](https://github.com/nodejs/node/pull/3090).
  - _(Breaking)_ HTTP methods and header names must now conform to the RFC 2616 "token" rule, a list of allowed characters that excludes control characters and a number of _separator_ characters. Specifically, methods and header names must now match ```/^[a-zA-Z0-9_!#$%&'*+.^`|~-]+$/``` or a `TypeError` will be thrown (James M Snell) [#2526](https://github.com/nodejs/node/pull/2526).
* **node**:
  - _(Breaking)_ Deprecated the `_linklist` module (Rich Trott) [#3078](https://github.com/nodejs/node/pull/3078).
  - _(Breaking)_ Removed `require.paths` and `require.registerExtension()`, both had been previously set to throw `Error` when accessed (Sakthipriyan Vairamani) [#2922](https://github.com/nodejs/node/pull/2922).
* **npm**: Upgraded to version 3.3.6 from 2.14.7, see https://github.com/npm/npm/releases/tag/v3.3.6 for more details. This is a major version bump for npm and it has seen a significant amount of change. Please see the original [npm v3.0.0 release notes](https://github.com/npm/npm/blob/master/CHANGELOG.md#v300-2015-06-25) for a list of major changes (Rebecca Turner) [#3310](https://github.com/nodejs/node/pull/3310).
* **src**: _(Breaking)_ Bumped `NODE_MODULE_VERSION` to `47` from `46`, this is necessary due to the V8 upgrade. Native add-ons will need to be recompiled (Rod Vagg) [#3400](https://github.com/nodejs/node/pull/3400).
* **timers**: Attempt to reuse the timer handle for `setTimeout().unref()`. This fixes a long-standing known issue where unrefed timers would perviously hold `beforeExit` open (Fedor Indutny) [#3407](https://github.com/nodejs/node/pull/3407).
* **tls**:
  - Added ALPN Support (Shigeki Ohtsu) [#2564](https://github.com/nodejs/node/pull/2564).
  - TLS options can now be passed in an object to `createSecurePair()` (Коренберг Марк) [#2441](https://github.com/nodejs/node/pull/2441).
  - _(Breaking)_ The default minimum DH key size for `tls.connect()` is now 1024 bits and a warning is shown when DH key size is less than 2048 bits. This a security consideration to prevent "logjam" attacks. A new `minDHSize` TLS option can be used to override the default. (Shigeki Ohtsu) [#1831](https://github.com/nodejs/node/pull/1831).
* **util**:
  - _(Breaking)_ `util.p()` was deprecated for years, and has now been removed (Wyatt Preul) [#3432](https://github.com/nodejs/node/pull/3432).
  - _(Breaking)_ `util.inherits()` can now work with ES6 classes. This is considered a breaking change because of potential subtle side-effects caused by a change from directly reassigning the prototype of the constructor using `ctor.prototype = Object.create(superCtor.prototype, { constructor: { ... } })` to using `Object.setPrototypeOf(ctor.prototype, superCtor.prototype)` (Michaël Zasso) [#3455](https://github.com/nodejs/node/pull/3455).
* **v8**: _(Breaking)_ Upgraded to 4.6.85.25 from 4.5.103.35  (Ali Ijaz Sheikh) [#3351](https://github.com/nodejs/node/pull/3351).
  - Implements the spread operator, see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator for further information.
  - Implements `new.target`, see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new.target for further information.
  * **zlib**: Decompression now throws on truncated input (e.g. unexpected end of file) (Yuval Brik) [#2595](https://github.com/nodejs/node/pull/2595).
-->
### 주요 변경 사항

* **buffer**: _(호환성 깨짐)_ `Buffer`에서 오랫동안 폐지 예정(deprecated) 상태였던 `raw`와 `raws` 인코딩 타입이 제거되었습니다 (Sakthipriyan Vairamani) [#2859](https://github.com/nodejs/node/pull/2859).
* **console**: _(호환성 깨짐)_ `console.time()`에서 출력되는 값에 소숫점 아래 3자리가 추가됩니다 (Michaël Zasso) [#3166](https://github.com/nodejs/node/pull/3166).
* **fs**:
  - `fs.readFile*()`, `fs.writeFile*()`, `fs.appendFile*()`에 첫 번째 인수로 파일 서술자(file descriptor)도 전달할 수 있습니다 (Johannes Wüller) [#3163](https://github.com/nodejs/node/pull/3163).
  - _(호환성 깨짐)_ `fs.readFile()`에서 인코딩이 설정되고 내부적으로 `toString()` 동작이 실패하더라도 에러를 발생시키지(throw) 않습니다. 단, 콜백으로는 에러가 전달됩니다. (Evan Lucas) [#3485](https://github.com/nodejs/node/pull/3485).
  - _(호환성 깨짐)_  `fs.read()`에서 (`fs.read(fd, length, position, encoding, callback)` 형식을 사용할 때), 내부적으로 `toString()`동작이 실패하더라도 에러를 발생시키지(throw) 않습니다. 단, 콜백으로는 에러가 전달됩니다. (Evan Lucas) [#3503](https://github.com/nodejs/node/pull/3503).
* **http**:
  - 파이프라인에 연결된 HTTP 요청이 멈추던 버그를 수정했습니다 (Fedor Indutny) [#3342](https://github.com/nodejs/node/pull/3342).
  - _(호환성 깨짐)_ HTTP를 파싱할 때 `Retry-After`, `ETag`, `Last-Modified`, `Server`, `Age`, `Expires` 헤더를 중복해서 추가하지 않습니다. 기존에 중복 추가를 허용하지 않던 `Content-Type`, `Content-Length`, `User-Agent`, `Referer`, `Host`, `Authorization`, `Proxy-Authorization`, `If-Modified-Since`, `If-Unmodified-Since`, `From`, `Location`, `Max-Forwards` 헤더에 더해진 것입니다 (James M Snell) [#3090](https://github.com/nodejs/node/pull/3090).
  - _(호환성 깨짐)_ `OutgoingMessage#setTimeout()`에 전달되는 `callback` 인수는 반드시 함수여야 합니다. 그렇지 않으면 `TypeError`가 발생합니다 (James M Snell) [#3090](https://github.com/nodejs/node/pull/3090).
  - _(호환성 깨짐)_ HTTP 메소드와 헤더 이름은 반드시 사용할 수 있는 문자, 사용할 수 없는 제어 문자, _구분자_를 나열한 RFC 2616 "토큰" 규칙을 준수해야 합니다. 특히 메소드와 헤더 이름은 반드시 ```/^[a-zA-Z0-9_!#$%&'*+.^`|~-]+$/```에 일치해야 합니다. 그렇지 않으면 `TypeError`가 발생합니다 (James M Snell) [#2526](https://github.com/nodejs/node/pull/2526).
* **node**:
  - _(호환성 깨짐)_ `_linklist` 모듈이 폐지 예정으로 바뀌었습니다 (Rich Trott) [#3078](https://github.com/nodejs/node/pull/3078).
  - _(호환성 깨짐)_ `require.paths`와 `require.registerExtension()`이 제거되었습니다. 이전 버전에서는 이들에 접근하면 `Error`가 발생했었습니다 (Sakthipriyan Vairamani) [#2922](https://github.com/nodejs/node/pull/2922).
* **npm**: 2.14.7에서 3.3.6으로 버전을 업그레이드 했습니다. 자세한 내용은 <https://github.com/npm/npm/releases/tag/v3.3.6>을 참고하세요. npm의 주요 버전이 증가하면서 상당히 많은 부분이 달라졌습니다. 주요 변화는 [npm v3.0.0 릴리스 노트](https://github.com/npm/npm/blob/master/CHANGELOG.md#v300-2015-06-25)를 참고하세요 (Rebecca Turner) [#3310](https://github.com/nodejs/node/pull/3310).
* **src**: _(호환성 깨짐)_ V8 엔진 업그레이드 때문에 `NODE_MODULE_VERSION`을 `46`에서 `47`로 올렸습니다. 네이티브 애드온은 다시 컴파일해야 합니다 (Rod Vagg) [#3400](https://github.com/nodejs/node/pull/3400).
* **timers**: `setTimeout().unref()`의 타이머 핸들러를 재사용하려고 시도합니다. 이로 인해 오래된 알려진 이슈였던 `beforeExit` 중 참조 해제된 타이머 문제가 해결되었습니다 (Fedor Indutny) [#3407](https://github.com/nodejs/node/pull/3407).
* **tls**:
  - ALPN 지원이 추가되었습니다 (Shigeki Ohtsu) [#2564](https://github.com/nodejs/node/pull/2564).
  - 이제 `createSecurePair()`에 TLS 옵션을 객체 형태로 전달할 수 있습니다 (Коренберг Марк) [#2441](https://github.com/nodejs/node/pull/2441).
  - _(호환성 깨짐)_ `tls.connect()`의 기본 최소 DH 키 크기가 1024 비트로 바뀌었으며 DH 키 크기가 2048 비트보다 작으면 경고를 출력합니다. "logjam" 공격을 방어하기 위한 보안 사항입니다. 새로 추가된 `minDHSize` 옵션을 사용하면 기본값을 재정의 할 수 있습니다 (Shigeki Ohtsu) [#1831](https://github.com/nodejs/node/pull/1831).
* **util**:
  - _(호환성 깨짐)_ 몇 년간 폐지 예정 상태였던 `util.p()`가 제거되었습니다 (Wyatt Preul) [#3432](https://github.com/nodejs/node/pull/3432).
  - _(호환성 깨짐)_ `util.inherits()`가 ES6 클래스에도 동작합니다. 생성자의 프로토타입을 재할당하는 과정이 `ctor.prototype = Object.create(superCtor.prototype, { constructor: { ... } })`에서 `Object.setPrototypeOf(ctor.prototype, superCtor.prototype)`으로 변경되었기 때문에 잠재적인 부작용이 있을 수 있어서 호환성 깨짐으로 표시했습니다 (Michaël Zasso) [#3455](https://github.com/nodejs/node/pull/3455).
* **v8**: _(호환성 깨짐)_ 4.5.103.35에서 4.6.85.25 버전으로 업그레이드 했습니다   (Ali Ijaz Sheikh) [#3351](https://github.com/nodejs/node/pull/3351).
  - 확산 연산자(spread operator)가 구현되었습니다. 확산 연산자에 관해서는 https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator 문서를 참고하세요.
  - `new.target`을 구현했습니다, 자세한 정보는 https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new.target 문서를 참고하세요.
* **zlib**: 압축 해제시 예기치 않게 파일이 종료되는 등 입력이 잘리면 에러가 발생합니다 (Yuval Brik) [#2595](https://github.com/nodejs/node/pull/2595).

<!--
### Known issues

* Surrogate pair in REPL can freeze terminal. [#690](https://github.com/nodejs/node/issues/690)
* Calling `dns.setServers()` while a DNS query is in progress can cause the process to crash on a failed assertion. [#894](https://github.com/nodejs/node/issues/894)
* `url.resolve` may transfer the auth portion of the url when resolving between two full hosts, see [#1435](https://github.com/nodejs/node/issues/1435).
* Unicode characters in filesystem paths are not handled consistently across platforms or Node.js APIs. See [#2088](https://github.com/nodejs/node/issues/2088), [#3401](https://github.com/nodejs/node/issues/3401) and [#3519](https://github.com/nodejs/node/issues/3519).
-->
### 알려진 이슈

* REPL에 입력된 서로게이트 페어가 터미널을 얼릴 수 있습니다. [#690](https://github.com/nodejs/node/issues/690)
* DNS 질의 진행 중에 호출된 `dns.setServers()`가 assertion 실패로 프로세스를 크래시시킬 수 있습니다. [#894](https://github.com/nodejs/node/issues/894)
* `url.resolve`가 다른 두 호스트 사이를 해석하는 중 URL의 인증 정보 부분을 교환할 수 있습니다. [#1435](https://github.com/nodejs/node/issues/1435).
* 파일 시스템 경로의 유니코드 문자를 플랫폼이나 Node.js API에 따라 다르게 처리하는 문제가 있습니다. [#2088](https://github.com/nodejs/node/issues/2088), [#3401](https://github.com/nodejs/node/issues/3401), [#3519](https://github.com/nodejs/node/issues/3519).
